{% extends "localtv/admin/base.html" %}
{% comment %}
Copyright 2009 - Participatory Culture Foundation

This file is part of Miro Community.

Miro Community is free software: you can redistribute it and/or modify it
under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or (at your
option) any later version.

Miro Community is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with Miro Community.  If not, see <http://www.gnu.org/licenses/>.
{% endcomment %}


{% block body_class %}uploadtemplate{% endblock body_class %}


{% load i18n %}

{% block title %}{{ block.super }} - {% trans "Admin - Upload Templates" %}{% endblock %}

{% block content %}
  {% include "localtv/admin/settings_header.html" %}
  {% if default %}
  <h1>Current Theme</h1>
  <div id="default_theme" class="theme">
  {% if default.thumbnail %}<img src="{{ default.thumbnail.url }}" alt="Thumbnail for {{ default.name }}" />{% endif %}
  <h2>{{ default.name }}</h2>
  <div class="description">{{ default.description }}</div>
  <a class="download_theme" href="{% url uploadtemplate-download default.pk %}">download this theme</a>
  </div>
  {% endif %}
  {% if not settings.UPLOADTEMPLATE_DISABLE_UPLOAD %}
  <form method="post" action="" enctype="multipart/form-data">
    <h1>Upload a Custom Theme</h1>
    <p>Themes are done with Django templates, which are <a href="http://docs.djangoproject.com/en/1.0/ref/templates/">documented here</a>.</p>
    <p>Download/modify any existing theme and upload it as a ZIP file.</p>
    <ul>
      {{ form.as_ul }}
      <li>
        <input type="submit" value="Upload" />
      </li>
    </ul>
  </form>
  {% endif %}
  <h1>Additional Themes</h1>
  <ul>
    {% for theme in non_default_themes %}
    <li class="theme">
      {% if theme.thumbnail %}<img src="{{ theme.thumbnail.url }}" alt="Thumbnail for {{ theme.name }}" />{% endif %}
      <h2>{{ theme.name }}</h2>
      <div class="description">{{ theme.description }}</div>
      <a class="activate_theme" href="{{ theme.get_absolute_url }}">activate</a>
      <a class="remove_theme" href="{% url uploadtemplate-delete theme.pk %}">remove</a>
      <a class="download_theme" href="{% url uploadtemplate-download theme.pk %}">download</a>
    </li>
    {% endfor %}
  </ul>
{% endblock content %}
